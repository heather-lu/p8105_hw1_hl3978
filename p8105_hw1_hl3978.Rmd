---
title: "p8105_hw1_hl3978"
author: "Heather Lu"
date: "2025-09-18"
output: github_document
---

# Load libraries 

```{r}
library(tidyverse)
library(moderndive)
```

# Problem 1

## Load dataset

```{r}
data("early_january_weather")
```

## Dataset description

- The data set has `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` Columns
- **Column names**: `r paste(names(early_january_weather))` 
- Importable variables include `time_hour` (timestamp), `temp` (F), `humid`, and `windspeed` (mph)
  - **Temperature range** (F) : `r paste(range(early_january_weather$temp), collapse = " to ")`
  - **Humidity range**: `r paste(range(early_january_weather$humid), collapse = " to ")`
  - **Windspeed range** (mph) : `r paste(range(early_january_weather$wind_speed), collapse = " to ")`

## temp vs. time_hour scatterplot

```{r}

#create scatterplot
temp_time_scatter <- ggplot(early_january_weather,
                            aes(x = time_hour, y = temp, color = humid)) +
  geom_point(alpha = 0.8) +
  labs( x = "time (hourly)", y = "Temp (F)", color = "humidity",
        title = "Temperature over Time")

temp_time_scatter

# Export scatterplot in the project directory
ggsave("temp_time_scatter.png", plot = temp_time_scatter)

```

## Pattern description of temperature over time scatterplot

The plot shows that the temperature has a clear daily cycle - lower temperatures late night/early morning and higher temperatures midday/afternoon. There doesn't appear to be any clear patterns with humidity. In some cases, humidity seems to be associated with lower temperatures on certain days.

# Problem 2

Create a data frame comprised of:
- a random sample of size 10 from a standard Normal distribution
- a logical vector indicating whether elements of the sample are greater than 0
- a character vector of length 10
- a factor vector of length 10, with 3 different factor “levels”

```{r, warning=FALSE}
set.seed(8105)  # reproducible

# numeric: standard normal sample
x_num  <- rnorm(10)

# logical vector: x > 0 
x_log  <- x_num > 0

# character vector 
x_chr = letters[1:10]

# factor vector
x_fac = factor(sample(c("low","med","high"), size = 10, replace = TRUE))

# create dataframe
df <- tibble(x_num, x_log, x_chr, x_fac)
df

# Try to take the mean of each variable in your dataframe. What works and what doesn’t? 

# Works: Numeric values
mean_num <- mean(df |> pull(x_num))
mean_log <- mean(df |> pull(x_log)) # TRUE=1, FALSE=0

# Doesn't work: non-numeric inputs (characters and factors)
mean(df |> pull(x_chr))                     
mean(df |> pull(x_fac)) 
```

**What works and what doesn't**

- The numeric values work fine
- Values in the logical vector also work because TRUE = 1 and FALSE = 0, the mean computes the proportion of TRUEs
- Characters have no numeric meaning so we get an error
- Factors are also a non-numeric input

**Write a code chunk that applies the as.numeric function to the logical, character, and factor variables**

```{r, results='hide', warning=FALSE}
num_from_log <- as.numeric(df$x_log)   # Converts TRUE→1, FALSE→0
num_from_chr <- as.numeric(df$x_chr)   # Converts to NAs with warnings
num_from_fac <- as.numeric(df$x_fac)   # Converts to underlying level codes
```
**What happens, and why? Does this help explain what happens when you try to take the mean?**

- Logical -> numeric returns 1s and 0s, which is why mean works on x_log
- Character -> numeric tries to parse each strings as a number, non-numeric strings return NA. Hence, you cannot take the mean
- Factor -> numeric returns the integer codes of the levels. You must convert factors to numeric values before taking the mean.







